// Generated by CoffeeScript 1.9.1
(function() {
  var ConnexionController, baseApp;

  baseApp = angular.module('baseApp');

  baseApp.controller('ConnexionController', ConnexionController);

  ConnexionController = function($scope, $http, $window) {
    return $scope.connecter = function() {
      return $http.post('/authentification', {}).success(function(data, status, headers, config) {
        $window.sessionStorage.token = data.token;
        console.log('token', $window.sessionStorage.token);
        return $scope.message = 'Welcome';
      }).error(function(data, status, headers, config) {
        delete $window.sessionStorage.token;
        return $scope.message = 'Error: Invalid user or password';
      });
    };
  };

  ConnexionController.$inject = ['$scope', '$http', '$window', '$routeParams', 'Authentification'];

}).call(this);

//# sourceMappingURL=connexion.controller.js.map
